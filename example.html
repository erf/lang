<!DOCTYPE html>

<title>lang - example</title>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="lang.js"></script>

<p id="car">car</p>
<p id="hi">hi</p>

<div>
    <button id="en" title="English">ðŸ‡ºðŸ‡¸</button>
    <button id="nb" title="Norwegian">ðŸ‡³ðŸ‡´</button>
</div>

<script>

    const translations = {
        'en': {
            'car': 'car',
            'hi': 'Hi {}, how are you doing?',
        },
        'nb': {
            'car': 'bil',
            'hi': 'Hei {}, hvordan gÃ¥r det?',
        },
    }

    let l = lang(translations)

    function onClickHandler(code) {
        return (e) => {
            l.setLang(code)
            // TODO re-render your app state after l.setLang 
            document.getElementById('car').innerHTML = l.tr('car')
            document.getElementById('hi').innerHTML = l.tr('hi', 'Erlend')
        }
    }

    document.getElementById("en").onclick = onClickHandler("en")

    document.getElementById("nb").onclick = onClickHandler("nb")

</script>